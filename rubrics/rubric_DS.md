# Рубрика DS (0–10) — «DevSecOps-сканы и харднинг»

Шкала на критерий:

- **0** — ошибка/враньё/несоответствие, отсутствует или непроверяемо.
- **1** — минимальный результат (делаем на семинарах, «лайт»).
- **2** — сверх минимума: доработки дома (реальные фиксы, suppression с owner/expiry, автоматизация порогов, понятный эффект).

## DS1. SBOM и уязвимости зависимостей (SCA)

- **0**: нет SBOM/отчёта или он фиктивный/не по этому проекту.
- **1**: сгенерирован SBOM (CycloneDX/SPDX) **и** выполнено SCA; в `EVIDENCE/` лежат файлы; кратко указано количество Critical/High и что делать дальше.
- **2**: показано **исправление** (bump/lock) **или** документированное временное подавление с обоснованием (owner/expiry); при необходимости отмечены лицензии.

## DS2. SAST + Secrets scanning

- **0**: нет отчётов или в репо/логах засвечены секреты.
- **1**: запущены **оба**: SAST и поиск секретов; отчёты в `EVIDENCE/`; краткая интерпретация 1–2 находок (FP/TP).
- **2**: хотя бы одна серьёзная находка **исправлена** (ссылка на коммит/патч) **и/или** настроены подавления с owner/expiry и объяснением; повторный отчёт показывает улучшение.

## DS3. DAST *или* Policy (Container/IaC) — достаточно одного для «1», на «2» лучше оба

- **0**: нет ни DAST, ни Policy-проверок.
- **1**: выполнен **любой один** класс:  
  • **DAST (лайт)** по демо/локальному стенду **или**  
  • **Policy/Container/IaC** (например, trivy config / checkov / conftest).  
  Отчёт в `EVIDENCE/` + 1–2 вывода.
- **2**: запущены **оба класса** **или** один класс выполнен глубже (настроенный профиль, таргет auth-flow); показано **минимум одно исправление**/жёсткая настройка с повторной проверкой.

## DS4. Харднинг (доказуемый)

- **0**: декларации без доказательств.
- **1**: применены ≥2 уместные меры (контейнер non-root/drop caps, лимиты/таймауты, CSP/headers, input validation, secrets-handling, RLS/tenant-auth и т.п.) **и** каждая подтверждена артефактом в `EVIDENCE/` (фрагмент конфига/отчёт/лог).
- **2**: ≥3 меры, и хотя бы по одной показан **влияние** (до/после) или связь с устранённой находкой из сканов.

## DS5. Quality-gates, триаж и эффект «до/после»

- **0**: порогов/триажа нет; критичные проблемы проигнорированы без объяснений.
- **1**: зафиксированы **пороговые правила** (например, Critical=0; Secrets=0; Policy violations=0 **или** явный список допустимых) **и** есть **триаж-таблица** (статус: fixed/suppressed/open, ссылка на отчёт/фикс). Показан «до/после» **хотя бы по одному** показателю (например, Critical: 2→0).
- **2**: проверка порогов **автоматизирована** (скрипт/job дает fail при нарушении) **и** триаж содержит owner/expiry/обоснование для подавлений; есть «до/после» **минимум по двум** мерам или один агрегированный показатель заметно улучшен.
