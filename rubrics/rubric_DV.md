# Рубрика DV (0-10) - Мини-проект «DevOps-конвейер»

Шкала на критерий:

- **0** - ошибка/враньё/несоответствие, невоспроизводимо.
- **1** - минимальный результат, который делаем на семинаре (лайт).
- **2** - сверх минимума: скрипты, кэш/матрица, аккуратные артефакты, осмысленная работа с секретами.

## DV1. Воспроизводимость локальной сборки и тестов

- **0**: нет рабочей инструкции/команды; сборка не проходит.
- **1**: есть одна команда/последовательность для сборки+тестов (напр., `python -m build && pytest -q`) и краткие шаги.
- **2**: «однокнопочный» запуск (напр., `make build test` или `scripts/run_local.sh`) и зафиксированы версии инструментов.

## DV2. Контейнеризация (Docker/Compose)

- **0**: Dockerfile отсутствует/не собирается.
- **1**: есть Dockerfile; образ **собирается и запускается** локально; указаны порт и команда запуска.
- **2**: добавлен простой `docker-compose.yml` **или** healthcheck/entrypoint-скрипт; есть памятка по запуску.

## DV3. CI: базовый pipeline и стабильный прогон

- **0**: нет CI-конфигурации или всё падает.
- **1**: есть CI (GHA/GitLab CI) с этапами **build + test**; есть **успешный прогон**; лог сохранён в `EVIDENCE/`.
- **2**: вдобавок - **кэш** зависимостей **или** минимальная **матрица** (2 версии Python/Node) **или** сохранение build-артефакта job’ом.

## DV4. Артефакты и логи конвейера

- **0**: ничего не сохраняется/непрозрачно.
- **1**: в `EVIDENCE/` лежат **логи успешного CI** и краткое описание результата сборки (что получилось: образ/wheel/архив).
- **2**: артефакты систематизированы: осмысленные имена/даты/коммиты (например, `ci-2025-10-05-build.txt`, `package-notes.txt`) + краткая инструкция «где взять/чем открыть».

## DV5. Секреты и конфигурация окружения (гигиена, без сканеров)

- **0**: секреты в git/логах.
- **1**: есть `/.env.example`, в CI используются **masked** secrets; инструкция по вводу секретов; в логах нет значений.
- **2**: показано **фактическое использование** секрета в job (напр., логин в реестр), плюс простая проверка отсутствия секретов в коде (хоть `git grep` с выводом в `EVIDENCE/grep-secrets.txt`) **или** явное маскирование (`::add-mask::`); есть памятка по ротации.
